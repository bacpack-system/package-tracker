## Mock CMCONF_GET returns values configured via TEST_CMCONF_* variables
#
IF(NOT DEFINED CMAKE_SCRIPT_MODE_FILE)
    CMAKE_MINIMUM_REQUIRED(VERSION 3.21)
    PROJECT(TEST_CMCONF_GET_RETURNS_VALUE)
ENDIF()

FIND_PACKAGE(CMLIB REQUIRED)

INCLUDE("${CMAKE_CURRENT_LIST_DIR}/../../../VARS.cmake")
INCLUDE("${CMAKE_TESTS_ROOT}/TEST.cmake")

SET(TEST_CMCONF_MY_STRING_VAR "expected_string_value")
SET(TEST_CMCONF_MY_BOOL_VAR ON)
SET(TEST_CMCONF_MY_PATH_VAR "/some/test/path")
SET(TEST_CMCONF_MY_EMPTY_VAR "")

INCLUDE("${CMAKE_TESTS_ROOT}/mock/CMCONF.cmake")

CMCONF_GET(MY_STRING_VAR)
TEST_VAR_EQUALS_LITERAL(MY_STRING_VAR "expected_string_value")

CMCONF_GET(MY_BOOL_VAR)
TEST_VAR_TRUE(MY_BOOL_VAR)

CMCONF_GET(MY_PATH_VAR)
TEST_VAR_EQUALS_LITERAL(MY_PATH_VAR "/some/test/path")

CMCONF_GET(MY_EMPTY_VAR)
TEST_VAR_DEFINED(MY_EMPTY_VAR)
TEST_VAR_EQUALS_LITERAL(MY_EMPTY_VAR "")

